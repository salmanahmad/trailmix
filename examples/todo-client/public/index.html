<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-type" content="text/html; charset=utf-8">
  <title>Todo List</title>

  <script src="/javascripts/jquery-2.0.0.min.js"></script>
  <script src="/bootstrap/js/bootstrap.min.js" type="text/javascript" charset="utf-8"></script>
  
  <script src="/javascripts/trailmix.js"></script>
  <script src="/javascripts/websql-adapter.js"></script>
  
  <link rel="stylesheet" href="/bootstrap/css/bootstrap.min.css" type="text/css" media="screen" charset="utf-8">
  <link rel="stylesheet" href="/stylesheets/style.css" type="text/css" media="screen" charset="utf-8">
  
  <link href='http://fonts.googleapis.com/css?family=Courgette' rel='stylesheet' type='text/css'>
  <link href='http://fonts.googleapis.com/css?family=Cantora+One' rel='stylesheet' type='text/css'>
  <link href='http://fonts.googleapis.com/css?family=Carrois+Gothic' rel='stylesheet' type='text/css'>
  <link href='http://fonts.googleapis.com/css?family=Raleway+Dots' rel='stylesheet' type='text/css'>
  <link href='http://fonts.googleapis.com/css?family=Racing+Sans+One' rel='stylesheet' type='text/css'>

  <script type="text/javascript" charset="utf-8">

  var TrailMix = require("./lib/trailmix");
  var WebSQLAdapter = require("./lib/adapters/websql-adapter");
  
  window.database = null;
  
  var adapter = new WebSQLAdapter({}, function() {
    var db = window.database = new TrailMix.Database(adapter);
    db.addRemote("origin", "http://localhost:3000");
    db.pull("origin");
  })
  
  
  
  $(function() {
    $("#pull").click(function() {
      var db = window.database;
      db.pull("origin", function() {
        db.currentBranch(function(branch) {
          branch.load(["hello"], function(data) {
            console.log(data)
          })
        })
      });
    })
    
    
    $("#push").click(function() {
      var db = window.database;
      db.push("origin");
    })
    
    $("#delete").click(function() {
      window.database.delete();
    })
    
  })
  
  
  
  </script>

</head>
<body>
  <div id="page">
    <div id="header">
      <h1>Todo List</h1>
    </div>
    
    <div id="content">
      <button class="btn" id="pull">Pull</button>
      <button class="btn" id="push">Push</button>
      <button class="btn" id="delete">Delete</button>
    </div>
    
    <div id="footer">
      Powered by Magic.
    </div>
  </div>
</body>
</html>